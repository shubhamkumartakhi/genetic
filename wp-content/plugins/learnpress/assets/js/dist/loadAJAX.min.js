(()=>{"use strict";const e=(e,t={},n={})=>{"function"==typeof n.before&&n.before(),fetch(e,{method:"GET",...t}).then((e=>e.json())).then((e=>{"function"==typeof n.success&&n.success(e)})).catch((e=>{"function"==typeof n.error&&n.error(e)})).finally((()=>{"function"==typeof n.completed&&n.completed()}))},t=(e,t)=>{const n=new URL(e);return Object.keys(t).forEach((e=>{n.searchParams.set(e,t[e])})),n};let n={};"undefined"!=typeof lpDataAdmin?n=lpDataAdmin:"undefined"!=typeof lpData&&(n=lpData);var s;window.lpAJAXG=(()=>{const s=".lp-target",o=(()=>{let e=window.location.href;return e.includes("?")&&(e=e.split("?")[0]),e})();return{autoLoadAPIs:()=>{console.log("autoLoadAPIs")},fetchAPI:(s,o,a)=>{const r={headers:{}};0!==parseInt(n.user_id)&&(r.headers["X-WP-Nonce"]=n.nonce),void 0!==o.args.method_request?r.method=o.args.method_request:r.method="POST","POST"===r.method?(r.body=JSON.stringify(o),r.headers["Content-Type"]="application/json"):(o.args=JSON.stringify(o.args),o.callback=JSON.stringify(o.callback),s=t(s,o)),e(s,r,a)},fetchAJAX:(s,o,a="")=>{a=a||n.lpAjaxUrl,s.hasOwnProperty("args")&&s.args.hasOwnProperty("id_url")&&(a=t(a,{id_url:s.args.id_url})),n.urlParams.hasOwnProperty("lang")&&(a=t(a,{lang:n.urlParams.lang}));const r=new FormData;r.append("nonce",n.nonce),r.append("lp-load-ajax","load_content_via_ajax"),r.append("data",JSON.stringify(s));const d={method:"POST",headers:{},body:r};0!==parseInt(n.user_id)&&(d.headers["X-WP-Nonce"]=n.nonce),e(a,d,o)},getElements:()=>{const e=document.querySelectorAll(".lp-load-ajax-element:not(.loaded)");e.length&&e.forEach((e=>{const t=e.querySelector(`${s}`);if(!t)return;const n={...JSON.parse(t.dataset.send)},o=e.querySelector(".loading-first"),a={success:e=>{const{status:n,message:s,data:o}=e;"success"===n?t.innerHTML=o.content:"error"===n&&(t.innerHTML=s)},error:e=>{console.log(e)},completed:()=>{window.lpAJAXG.getElements(),o&&o.remove()}};window.lpAJAXG.fetchAJAX(n,a),e.classList.add("loaded")}))},clickNumberPage:(e,n)=>{const a=n.closest(".page-numbers:not(.disabled)");if(!a)return;const r=a.closest(`${s}`);if(!r)return;const d={...JSON.parse(r.dataset.send)};d.args.hasOwnProperty("paged")||(d.args.paged=1),e.preventDefault(),a.classList.contains("prev")?d.args.paged--:a.classList.contains("next")?d.args.paged++:d.args.paged=a.textContent,r.dataset.send=JSON.stringify(d),lpData.urlParams.paged=d.args.paged,window.history.pushState({},"",t(o,lpData.urlParams));const c=r.closest(`div:not(${s})`).querySelector(".lp-loading-change");c&&(c.style.display="block");const l=r.getBoundingClientRect().top+window.scrollY-100;window.scrollTo({top:l});const i={success:e=>{const{status:t,message:n,data:s}=e;r.innerHTML=s.content||""},error:e=>{console.log(e)},completed:()=>{c&&(c.style.display="none")}};window.lpAJAXG.fetchAJAX(d,i)},getDataSetCurrent:e=>JSON.parse(e.dataset.send),setDataSetCurrent:(e,t)=>e.dataset.send=JSON.stringify(t)}})(),window.lpAJAXG.getElements(),document.addEventListener("click",(function(e){const t=e.target;window.lpAJAXG.clickNumberPage(e,t)})),s=e=>{e.classList.contains("lp-load-ajax-element")&&window.lpAJAXG.getElements()},new MutationObserver((function(e){e.forEach((function(e){e.addedNodes&&e.addedNodes.forEach((function(e){1===e.nodeType&&s(e)}))}))})).observe(document,{childList:!0,subtree:!0}),((e,t)=>{const n=document.querySelector(e);if(n)return void t();const s=new MutationObserver(((n,s)=>{const o=document.querySelector(e);o&&(s.disconnect(),t())}));s.observe(document.documentElement,{childList:!0,subtree:!0})})(".lp-load-ajax-element",(e=>{window.lpAJAXG.getElements()})),document.addEventListener("readystatechange",(e=>{window.lpAJAXG.getElements()})),document.addEventListener("DOMContentLoaded",(()=>{window.lpAJAXG.getElements()}))})();